<app-header></app-header>
<div class="page-header">

  <div class="header-content">
    <button class="back-button">
      <i class="icon-arrow-left"></i>
      <span>Voltar</span>
    </button>

    <div class="page-title">
      <h1>Personalize sua {{pizzaTipo?.nome}}</h1>
      <p class="subtitle">{{pizzaTipo?.descricao}}</p>
    </div>
  </div>
</div>
<div class="page-content">
  @if (isLoading) {
    <div class="loading-container">
      <app-loading></app-loading>
    </div>
  } @else {
    <div class="customize-layout">
      <!-- Seção Principal - Componentes de Seleção -->
      <div class="selection-section">
        <!-- Lista de Sabores -->
        <app-lista-sabores
          [pizzaSabores]="pizzaSabores"
          (saborSelecionado)="onSaborSelecionado($event)">
        </app-lista-sabores>

        <!-- Lista de Adicionais -->
        <app-adicionais
          [pizzaAdicionais]="pizzaAdicionais"
          (selectionChange)="onAdicionaisSelecionados($event)">
        </app-adicionais>

        <!-- Lista de Bordas -->
        <app-lista-bordas
          [pizzaBordas]="pizzaBordas"
          (aoSelecionar)="onBordaSelecionada($event)">
        </app-lista-bordas>
      </div>

      <!-- Seção Lateral - Resumo do Pedido (Sticky) -->
      <div class="summary-section">
        <div class="summary-sticky">
          <app-resumo-pedido
            [pizzaSabor]="saborSelecionado"
            [pizzaAdicionais]="adicionaisSelecionados"
            [pizzaBorda]="bordaSelecionada"
            [pizzaTipo]="pizzaTipo"
            (pedidoAdicionado)="onPedidoAdicionado($event)">
          </app-resumo-pedido>
        </div>
      </div>
    </div>
  }
</div>
<app-footer-fixed></app-footer-fixed>
